<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TextMimic Studio - ãƒ¡ãƒ¼ã‚«ãƒ¼ä½œæˆ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=Noto+Sans+JP:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', 'Noto Sans JP', sans-serif; }
        .loader {
            border: 3px solid rgba(255,255,255,0.3);
            border-radius: 50%;
            border-top: 3px solid #fff;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>
</head>
<body class="bg-slate-100 text-slate-800 min-h-screen pb-20">

    <div id="app" class="max-w-4xl mx-auto">
        
        <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
        <header class="bg-white border-b border-slate-200 p-4 sticky top-0 z-10 flex justify-between items-center shadow-sm">
            <div class="flex items-center gap-2">
                <div class="w-8 h-8 bg-indigo-600 rounded-lg flex items-center justify-center text-white font-bold">M</div>
                <span class="font-bold text-slate-900">TextMimic Studio</span>
            </div>
            <div class="flex gap-3">
                <button class="text-sm font-bold text-slate-500 hover:text-slate-800">ã‚­ãƒ£ãƒ³ã‚»ãƒ«</button>
                <button @click="publishMaker" class="bg-indigo-600 hover:bg-indigo-700 text-white text-sm font-bold px-4 py-2 rounded-lg transition shadow-md">
                    å…¬é–‹ã™ã‚‹ ğŸš€
                </button>
            </div>
        </header>

        <main class="p-6 grid grid-cols-1 lg:grid-cols-2 gap-8">
            
            <!-- å·¦å´ï¼šè¨­å®šã‚¨ãƒªã‚¢ -->
            <div class="space-y-6">
                <div class="bg-white p-6 rounded-2xl shadow-sm border border-slate-200">
                    <h2 class="text-lg font-bold mb-4 flex items-center gap-2">
                        <span>ğŸ› </span> åŸºæœ¬è¨­å®š
                    </h2>
                    
                    <!-- ã‚¢ã‚¤ã‚³ãƒ³ã¨ã‚¿ã‚¤ãƒˆãƒ« -->
                    <div class="space-y-4">
                        <div>
                            <label class="block text-xs font-bold text-slate-500 uppercase mb-1">ã‚¢ã‚¤ã‚³ãƒ³ (Emoji)</label>
                            <input v-model="form.emoji" type="text" class="text-3xl w-16 h-16 text-center border border-slate-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:outline-none" placeholder="ğŸ¯">
                        </div>
                        <div>
                            <label class="block text-xs font-bold text-slate-500 uppercase mb-1">ãƒ¡ãƒ¼ã‚«ãƒ¼å</label>
                            <input v-model="form.title" type="text" class="w-full p-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:outline-none font-bold" placeholder="ä¾‹ï¼šé–¢è¥¿å¼ãŠã‹ã‚“ãƒ¡ãƒ¼ã‚«ãƒ¼">
                        </div>
                        <div>
                            <label class="block text-xs font-bold text-slate-500 uppercase mb-1">èª¬æ˜æ–‡</label>
                            <input v-model="form.description" type="text" class="w-full p-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:outline-none" placeholder="ã©ã‚“ãªé¢¨ã«å¤‰æ›ã•ã‚Œã‚‹ã‹çŸ­ãèª¬æ˜">
                        </div>
                    </div>
                </div>

                <div class="bg-white p-6 rounded-2xl shadow-sm border border-slate-200 ring-2 ring-indigo-50">
                    <div class="flex justify-between items-center mb-4">
                        <h2 class="text-lg font-bold flex items-center gap-2 text-indigo-700">
                            <span>ğŸ§ </span> AIã¸ã®æŒ‡ç¤º (ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ)
                        </h2>
                        <span class="text-xs bg-indigo-100 text-indigo-700 px-2 py-1 rounded font-bold">æœ€é‡è¦</span>
                    </div>
                    
                    <p class="text-xs text-slate-500 mb-3">
                        AIã«ãªã‚Šãã£ã¦æ¬²ã—ã„ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚„ã€å£èª¿ã€ãƒ«ãƒ¼ãƒ«ã®æŒ‡ç¤ºã‚’æ›¸ã„ã¦ãã ã•ã„ã€‚
                    </p>
                    <textarea 
                        v-model="form.systemPrompt" 
                        class="w-full h-40 p-4 border border-indigo-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:outline-none resize-none bg-indigo-50/30 text-sm leading-relaxed"
                        placeholder="ä¾‹ï¼šã‚ãªãŸã¯å¤§é˜ªã®ä¸–è©±ç„¼ããªãŠã‹ã‚“ã§ã™ã€‚å…¥åŠ›ã•ã‚ŒãŸæ–‡ç« ã‚’ã€é£´ã¡ã‚ƒã‚“ã‚’æ¸¡ã™ã‚ˆã†ãªå„ªã—ã„é–¢è¥¿å¼ã«å¤‰æ›ã—ã¦ãã ã•ã„ã€‚èªå°¾ã«ã¯ã€ŒçŸ¥ã‚‰ã‚“ã‘ã©ã€ã‚’ã¤ã‘ã¦ãã ã•ã„ã€‚"
                    ></textarea>
                </div>
            </div>

            <!-- å³å´ï¼šãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼†ãƒ†ã‚¹ãƒˆã‚¨ãƒªã‚¢ -->
            <div class="space-y-6">
                <div class="bg-slate-800 text-white p-6 rounded-2xl shadow-xl">
                    <h2 class="text-lg font-bold mb-4 flex items-center gap-2">
                        <span>ğŸ§ª</span> å‹•ä½œãƒ†ã‚¹ãƒˆ
                    </h2>
                    <p class="text-slate-400 text-xs mb-4">
                        å·¦å´ã®è¨­å®šã‚’ä½¿ã£ã¦ã€å®Ÿéš›ã«ã©ã†å¤‰æ›ã•ã‚Œã‚‹ã‹è©¦ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚
                    </p>

                    <!-- ãƒ†ã‚¹ãƒˆå…¥åŠ› -->
                    <div class="space-y-2">
                        <label class="text-xs font-bold text-slate-400 uppercase">ãƒ†ã‚¹ãƒˆç”¨ã®å…¥åŠ›ãƒ†ã‚­ã‚¹ãƒˆ</label>
                        <input v-model="testInput" type="text" class="w-full p-3 bg-slate-700 border border-slate-600 rounded-xl focus:outline-none text-white" placeholder="ã“ã“ã«å¤‰æ›ã—ãŸã„è¨€è‘‰ã‚’å…¥åŠ›...">
                    </div>

                    <!-- ãƒ†ã‚¹ãƒˆå®Ÿè¡Œãƒœã‚¿ãƒ³ -->
                    <button 
                        @click="runTest" 
                        :disabled="!testInput || isLoading"
                        class="mt-4 w-full bg-indigo-500 hover:bg-indigo-400 text-white font-bold py-3 rounded-xl transition flex justify-center items-center gap-2 disabled:opacity-50"
                    >
                        <span v-if="isLoading" class="loader"></span>
                        <span v-if="!isLoading">ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ â–¶</span>
                    </button>

                    <!-- ãƒ†ã‚¹ãƒˆçµæœ -->
                    <div v-if="testResult" class="mt-6 pt-6 border-t border-slate-700">
                        <label class="text-xs font-bold text-emerald-400 uppercase mb-2 block">AIã‹ã‚‰ã®è¿”ç­”</label>
                        <div class="bg-slate-900 p-4 rounded-xl border border-slate-700 leading-relaxed whitespace-pre-wrap">
{{ testResult }}
                        </div>
                    </div>
                </div>

                <!-- ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚«ãƒ¼ãƒ‰ -->
                <div class="opacity-70 pointer-events-none select-none">
                    <p class="text-center text-xs text-slate-400 mb-2">ä¸€è¦§ç”»é¢ã§ã®è¦‹ãˆæ–¹ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼</p>
                    <div class="bg-white p-6 rounded-2xl shadow-sm border border-slate-200">
                        <div class="flex items-start justify-between mb-4">
                            <span class="text-4xl">{{ form.emoji || 'â“' }}</span>
                            <span class="text-xs font-bold px-2 py-1 rounded bg-slate-100 text-slate-500 uppercase">USER</span>
                        </div>
                        <h3 class="text-lg font-bold text-slate-900 mb-2">{{ form.title || 'ã‚¿ã‚¤ãƒˆãƒ«æœªè¨­å®š' }}</h3>
                        <p class="text-sm text-slate-500">{{ form.description || 'èª¬æ˜æ–‡ãŒã“ã“ã«å…¥ã‚Šã¾ã™...' }}</p>
                    </div>
                </div>
            </div>

        </main>
    </div>

    <script>
        // ==========================================
        // ã€è¨­å®šã€‘ã“ã“ã«APIã‚­ãƒ¼ã‚’å…¥ã‚Œã¦ãã ã•ã„
        const SYSTEM_API_KEY = ''; 
        // ==========================================

        const { createApp } = Vue

        createApp({
            data() {
                return {
                    // ãƒ•ã‚©ãƒ¼ãƒ ã®å†…å®¹
                    form: {
                        emoji: 'ğŸ¯',
                        title: '',
                        description: '',
                        systemPrompt: ''
                    },
                    // ãƒ†ã‚¹ãƒˆç”¨
                    testInput: '',
                    testResult: '',
                    isLoading: false
                }
            },
            methods: {
                async runTest() {
                    if (!this.testInput) return;
                    this.isLoading = true;
                    this.testResult = '';

                    try {
                        if (!SYSTEM_API_KEY) {
                            // ãƒ‡ãƒ¢ãƒ¢ãƒ¼ãƒ‰
                            await new Promise(r => setTimeout(r, 1000));
                            this.testResult = "ã€ãƒ†ã‚¹ãƒˆæˆåŠŸã€‘\n(APIã‚­ãƒ¼æœªè¨­å®šã®ãŸã‚ãƒ‡ãƒ¢å›ç­”ã§ã™)\n\nã“ã“ã«AIãŒç”Ÿæˆã—ãŸãƒ†ã‚­ã‚¹ãƒˆãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚\nãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ: " + this.form.systemPrompt;
                            this.isLoading = false;
                            return;
                        }

                        // APIãƒªã‚¯ã‚¨ã‚¹ãƒˆ (å…¥åŠ›ã•ã‚ŒãŸãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ä½¿ã£ã¦ãƒ†ã‚¹ãƒˆ)
                        const response = await fetch('https://llm.chutes.ai/v1/chat/completions', {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json',
                                'Authorization': `Bearer ${SYSTEM_API_KEY}`
                            },
                            body: JSON.stringify({
                                model: "openai/gpt-oss-20b",
                                messages: [
                                    { role: "system", content: this.form.systemPrompt },
                                    { role: "user", content: this.testInput }
                                ],
                                temperature: 0.7
                            })
                        });

                        const data = await response.json();
                        this.testResult = data.choices[0].message.content;

                    } catch (error) {
                        alert("ã‚¨ãƒ©ãƒ¼: " + error.message);
                    } finally {
                        this.isLoading = false;
                    }
                },
                publishMaker() {
                    // ã“ã“ã§æœ¬æ¥ã¯ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ä¿å­˜ã—ã¾ã™
                    if(!this.form.title || !this.form.systemPrompt) {
                        alert("ã‚¿ã‚¤ãƒˆãƒ«ã¨ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã¯å¿…é ˆã§ã™ï¼");
                        return;
                    }
                    
                    const confirmMsg = `
ã€å…¬é–‹ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã€‘
ä»¥ä¸‹ã®å†…å®¹ã§ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ä¿å­˜ã•ã‚Œã¾ã™ï¼š

ã‚¿ã‚¤ãƒˆãƒ«: ${this.form.title}
ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ: ${this.form.systemPrompt}

â€»ç¾åœ¨ã¯ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šå‰ã®ãŸã‚ã€ä¿å­˜ã•ã‚Œã¾ã›ã‚“ã€‚
                    `;
                    alert(confirmMsg);
                }
            }
        }).mount('#app')
    </script>
</body>
</html>
