<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TextMimic - AIãƒ†ã‚­ã‚¹ãƒˆå¤‰æ›ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ </title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=Noto+Sans+JP:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', 'Noto Sans JP', sans-serif; }
        .fade-enter-active, .fade-leave-active { transition: opacity 0.3s ease; }
        .fade-enter-from, .fade-leave-to { opacity: 0; }
        .slide-up-enter-active { transition: all 0.4s ease-out; }
        .slide-up-enter-from { opacity: 0; transform: translateY(20px); }
        .loader {
            border: 3px solid rgba(255,255,255,0.3);
            border-radius: 50%;
            border-top: 3px solid #fff;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>
</head>
<body class="bg-slate-50 text-slate-800 min-h-screen">

    <div id="app" class="max-w-5xl mx-auto min-h-screen flex flex-col">
        
        <!-- ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒãƒ¼ -->
        <nav class="flex items-center justify-between p-6">
            <div class="flex items-center gap-2 cursor-pointer" @click="goHome">
                <div class="w-8 h-8 bg-indigo-600 rounded-lg flex items-center justify-center text-white font-bold text-lg">M</div>
                <span class="text-xl font-extrabold tracking-tight text-slate-900">TextMimic</span>
            </div>
            <div class="text-sm font-medium text-slate-500 hover:text-indigo-600 cursor-pointer">
                ãƒ­ã‚°ã‚¤ãƒ³ / ç™»éŒ² (Coming Soon)
            </div>
        </nav>

        <!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->
        <main class="flex-1 p-4 md:p-6">
            
            <!-- HOMEç”»é¢: ãƒ¡ãƒ¼ã‚«ãƒ¼ä¸€è¦§ -->
            <transition name="fade" mode="out-in">
                <div v-if="!currentMaker" key="home">
                    
                    <!-- ãƒ’ãƒ¼ãƒ­ãƒ¼ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
                    <div class="text-center py-10 md:py-16">
                        <h1 class="text-3xl md:text-5xl font-extrabold text-slate-900 mb-4 leading-tight">
                            ã‚ã‚‰ã‚†ã‚‹è¨€è‘‰ã‚’ã€<br><span class="text-indigo-600">æ€ã„é€šã‚Š</span>ã«å¤‰æ›ã—ã‚ˆã†ã€‚
                        </h1>
                        <p class="text-slate-500 max-w-xl mx-auto text-lg">
                            ãƒ“ã‚¸ãƒã‚¹ãƒ¡ãƒ¼ãƒ«ã‹ã‚‰ãƒã‚¿æŠ•ç¨¿ã¾ã§ã€‚<br>
                            AIãŒã‚ãªãŸã®æ–‡ç« ã‚’ã€Œæ“¬æ…‹ï¼ˆMimicï¼‰ã€ã•ã›ã¾ã™ã€‚
                        </p>
                    </div>

                    <!-- ã‚«ãƒ†ã‚´ãƒªã‚¿ãƒ– -->
                    <div class="flex justify-center gap-2 mb-8 flex-wrap">
                        <button 
                            v-for="cat in categories" 
                            :key="cat.id"
                            @click="selectedCategory = cat.id"
                            class="px-4 py-2 rounded-full text-sm font-bold transition-all"
                            :class="selectedCategory === cat.id ? 'bg-slate-900 text-white shadow-lg' : 'bg-white text-slate-600 hover:bg-slate-100 border border-slate-200'"
                        >
                            {{ cat.name }}
                        </button>
                    </div>

                    <!-- ãƒ¡ãƒ¼ã‚«ãƒ¼ã‚«ãƒ¼ãƒ‰ä¸€è¦§ -->
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        <div 
                            v-for="maker in filteredMakers" 
                            :key="maker.id"
                            @click="selectMaker(maker)"
                            class="bg-white p-6 rounded-2xl shadow-sm border border-slate-200 hover:shadow-xl hover:-translate-y-1 transition-all cursor-pointer group"
                        >
                            <div class="flex items-start justify-between mb-4">
                                <span class="text-4xl filter group-hover:scale-110 transition-transform duration-300">{{ maker.emoji }}</span>
                                <span class="text-xs font-bold px-2 py-1 rounded bg-slate-100 text-slate-500 uppercase">{{ maker.categoryLabel }}</span>
                            </div>
                            <h3 class="text-lg font-bold text-slate-900 mb-2 group-hover:text-indigo-600 transition-colors">{{ maker.title }}</h3>
                            <p class="text-sm text-slate-500 leading-relaxed">{{ maker.description }}</p>
                            <div class="mt-4 flex items-center text-indigo-600 text-sm font-bold opacity-0 group-hover:opacity-100 transition-opacity">
                                ä½¿ã£ã¦ã¿ã‚‹ â†’
                            </div>
                        </div>
                    </div>
                </div>

                <!-- PLAYç”»é¢: å€‹åˆ¥ãƒ„ãƒ¼ãƒ«å®Ÿè¡Œ -->
                <div v-else key="play" class="max-w-2xl mx-auto">
                    <!-- æˆ»ã‚‹ãƒœã‚¿ãƒ³ -->
                    <button @click="goHome" class="mb-6 flex items-center text-slate-500 hover:text-indigo-600 transition font-medium">
                        â† ä¸€è¦§ã«æˆ»ã‚‹
                    </button>

                    <div class="bg-white rounded-3xl shadow-xl overflow-hidden border border-slate-200">
                        <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
                        <div class="p-8 pb-4 text-center bg-gradient-to-b from-slate-50 to-white">
                            <div class="text-5xl mb-4">{{ currentMaker.emoji }}</div>
                            <h2 class="text-2xl font-bold text-slate-900">{{ currentMaker.title }}</h2>
                            <p class="text-slate-500 text-sm mt-2">{{ currentMaker.description }}</p>
                        </div>

                        <div class="p-6 md:p-8 space-y-6">
                            <!-- å…¥åŠ› -->
                            <div>
                                <textarea 
                                    v-model="inputText" 
                                    class="w-full h-32 p-4 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all resize-none bg-slate-50 placeholder-slate-400 text-base"
                                    :placeholder="currentMaker.placeholder"
                                ></textarea>
                            </div>

                            <!-- ãƒœã‚¿ãƒ³ -->
                            <button 
                                @click="convertText" 
                                :disabled="!inputText || isLoading"
                                class="w-full bg-slate-900 hover:bg-slate-800 text-white font-bold py-4 rounded-xl shadow-lg transform transition active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed flex justify-center items-center gap-2"
                            >
                                <span v-if="isLoading" class="loader"></span>
                                <span v-if="!isLoading">å¤‰æ›ã‚¹ã‚¿ãƒ¼ãƒˆ âš¡</span>
                            </button>

                            <!-- å‡ºåŠ› -->
                            <transition name="slide-up">
                                <div v-if="outputText" class="relative bg-indigo-50 rounded-xl p-6 border border-indigo-100">
                                    <div class="absolute top-0 left-0 bg-indigo-100 text-indigo-700 text-xs font-bold px-3 py-1 rounded-br-xl rounded-tl-xl">Result</div>
                                    <div class="text-slate-800 leading-relaxed whitespace-pre-wrap mt-2">{{ outputText }}</div>
                                    
                                    <div class="mt-4 flex gap-2 justify-end">
                                        <button @click="copyToClipboard" class="text-sm font-bold text-slate-500 hover:text-indigo-600 flex items-center gap-1 transition">
                                            <span v-if="copied">Copied!</span>
                                            <span v-else>Copy</span> ğŸ“‹
                                        </button>
                                    </div>
                                </div>
                            </transition>
                        </div>
                    </div>
                </div>
            </transition>
        </main>

        <footer class="p-6 text-center text-slate-400 text-xs">
            Â© 2024 TextMimic Platform. Powered by Chutes.ai
        </footer>
    </div>

    <script>
        // ==========================================
        // ã€è¨­å®šã€‘ã“ã“ã«APIã‚­ãƒ¼ã‚’å…¥ã‚Œã¦ãã ã•ã„
        const SYSTEM_API_KEY = 'cpk_31b49a7636f34da7b4567183f7e5ebbe.4b7f1379e5fd584a8708c89da5014f0d.jgf81xRpvc8qJqqWeGgsznMouSscFp4F'; 
        // ==========================================

        const { createApp } = Vue

        createApp({
            data() {
                return {
                    selectedCategory: 'all',
                    currentMaker: null, // ç¾åœ¨é¸æŠä¸­ã®ãƒ¡ãƒ¼ã‚«ãƒ¼ï¼ˆnullãªã‚‰ãƒ›ãƒ¼ãƒ ç”»é¢ï¼‰
                    inputText: '',
                    outputText: '',
                    isLoading: false,
                    copied: false,
                    
                    // ã‚«ãƒ†ã‚´ãƒªå®šç¾©
                    categories: [
                        { id: 'all', name: 'ã™ã¹ã¦' },
                        { id: 'work', name: 'ğŸ’¼ ä»•äº‹ãƒ»åŠ¹ç‡åŒ–' },
                        { id: 'fun', name: 'ğŸ¤£ ãƒã‚¿ãƒ»ã‚¨ãƒ³ã‚¿ãƒ¡' },
                        { id: 'creative', name: 'ğŸ¨ å‰µä½œãƒ»å­¦ç¿’' }
                    ],

                    // â˜…ã“ã“ã«ãƒ¡ãƒ¼ã‚«ãƒ¼ã‚’è¿½åŠ ã™ã‚‹ã ã‘ã§æ©Ÿèƒ½ãŒå¢—ãˆã¾ã™â˜…
                    makers: [
                        {
                            id: 1,
                            title: 'è–äººå›å­ãƒ¡ãƒ¼ãƒ«',
                            emoji: 'ğŸ˜‡',
                            description: 'æ€’ã‚Šã®æ„Ÿæƒ…ã‚’ã€æ¥µã‚ã¦å†·é™ã§çŸ¥çš„ãªãƒ“ã‚¸ãƒã‚¹ãƒ¡ãƒ¼ãƒ«ã«å¤‰æ›ã—ã¾ã™ã€‚',
                            category: 'work',
                            categoryLabel: 'Business',
                            systemPrompt: 'ã‚ãªãŸã¯è¶…ä¸€æµã®ãƒ“ã‚¸ãƒã‚¹ãƒãƒ³ã§ã™ã€‚å…¥åŠ›ã•ã‚ŒãŸæ„Ÿæƒ…çš„ãªæ–‡ç« ã‚’ã€æ„å‘³ã‚’å¤‰ãˆãšã«éå¸¸ã«ä¸å¯§ã§å††æ»‘ãªãƒ“ã‚¸ãƒã‚¹ãƒ¡ãƒ¼ãƒ«ã«æ›¸ãæ›ãˆã¦ãã ã•ã„ã€‚',
                            placeholder: 'ä¾‹ï¼šãµã–ã‘ã‚“ãªï¼ç´æœŸéãã¦ã‚“ã®ã«é€£çµ¡ãªã—ã‹ã‚ˆã€‚'
                        },
                        {
                            id: 2,
                            title: 'ãŠã˜ã•ã‚“æ§‹æ–‡ãƒ¡ãƒ¼ã‚«ãƒ¼',
                            emoji: 'ğŸº',
                            description: 'æ™®é€šã®æ–‡ç« ã‚’ã€çµµæ–‡å­—å¤šã‚ã§è·é›¢æ„Ÿã®è¿‘ã„ã€ŒãŠã˜ã•ã‚“æ§‹æ–‡ã€ã«å¤‰æ›ã—ã¾ã™ã€‚',
                            category: 'fun',
                            categoryLabel: 'Joke',
                            systemPrompt: 'ã‚ãªãŸã¯æ—¥æœ¬ã®ã€ŒãŠã˜ã•ã‚“ã€ã§ã™ã€‚å…¥åŠ›ã•ã‚ŒãŸæ–‡ç« ã‚’ã€çµµæ–‡å­—ã‚„é¡”æ–‡å­—ã‚’å¤šç”¨ã—ã€èª­ç‚¹ãŒå¤‰ãªä½ç½®ã«ã‚ã‚Šã€å¦™ã«é¦´ã‚Œé¦´ã‚Œã—ã„ã€ŒãŠã˜ã•ã‚“æ§‹æ–‡ã€ã«å¤‰æ›ã—ã¦ãã ã•ã„ã€‚ã€Œã€œã‚«ãƒŠï¼Ÿã€ã€ŒãƒŠãƒ³ãƒãƒ£ãƒƒãƒ†ã€ãªã©ã‚’å¤šç”¨ã—ã¦ãã ã•ã„ã€‚',
                            placeholder: 'ä¾‹ï¼šä»Šæ—¥ã¯å¤©æ°—ãŒã„ã„ã‹ã‚‰æ•£æ­©ã«è¡Œãã¾ã™ã€‚'
                        },
                        {
                            id: 3,
                            title: '3è¡Œè¦ç´„ãã‚“',
                            emoji: 'ğŸ“š',
                            description: 'é•·ã„æ–‡ç« ã‚’ã€è¦ç‚¹ã‚’æŠ¼ã•ãˆãŸç®‡æ¡æ›¸ã3è¡Œã«ã¾ã¨ã‚ã¾ã™ã€‚',
                            category: 'work',
                            categoryLabel: 'Efficiency',
                            systemPrompt: 'ã‚ãªãŸã¯å„ªç§€ãªè¦ç´„ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã§ã™ã€‚å…¥åŠ›ã•ã‚ŒãŸæ–‡ç« ã®è¦ç‚¹ã‚’æŠ½å‡ºã—ã€ç®‡æ¡æ›¸ãã®3è¡Œã ã‘ã§ã¾ã¨ã‚ã¦ãã ã•ã„ã€‚',
                            placeholder: 'è¦ç´„ã—ãŸã„é•·ã„æ–‡ç« ã‚’ã“ã“ã«è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„...'
                        },
                        {
                            id: 4,
                            title: 'å¨äºŒç—…ã‚¯ãƒªã‚¨ã‚¤ã‚¿ãƒ¼',
                            emoji: 'ğŸŒ‘',
                            description: 'æ—¥å¸¸ä¼šè©±ã‚’ã€æ¼†é»’ã®é—‡ã‚’çºã£ãŸã‚«ãƒƒã‚³ã„ã„ï¼ˆï¼Ÿï¼‰è¨€ã„å›ã—ã«å¤‰æ›ã—ã¾ã™ã€‚',
                            category: 'fun',
                            categoryLabel: 'Joke',
                            systemPrompt: 'ã‚ãªãŸã¯é‡åº¦ã®å¨äºŒç—…ï¼ˆä¸­äºŒç—…ï¼‰æ‚£è€…ã§ã™ã€‚å…¥åŠ›ã•ã‚ŒãŸæ–‡ç« ã‚’ã€é›£è§£ãªæ¼¢å­—ã‚„ã‚«ã‚¿ã‚«ãƒŠç”¨èªï¼ˆãƒ«ãƒ“ä»˜ãï¼‰ã‚’å¤šç”¨ã—ãŸã€é—‡ã®ä½äººã®ã‚ˆã†ãªè¨€è‘‰é£ã„ã«å¤‰æ›ã—ã¦ãã ã•ã„ã€‚',
                            placeholder: 'ä¾‹ï¼šãŠè…¹ã™ã„ãŸã‹ã‚‰ã‚³ãƒ³ãƒ“ãƒ‹è¡Œã£ã¦ãã‚‹ã‚ã€‚'
                        },
                        {
                            id: 5,
                            title: 'ãƒã‚¸ãƒ†ã‚£ãƒ–å¤‰æ›æ©Ÿ',
                            emoji: 'ğŸŒ',
                            description: 'ãƒã‚¬ãƒ†ã‚£ãƒ–ãªç™ºè¨€ã‚’ã€ç„¡ç†ã‚„ã‚Šãƒã‚¸ãƒ†ã‚£ãƒ–ã§å‰å‘ããªè¨€è‘‰ã«å¤‰ãˆã¾ã™ã€‚',
                            category: 'creative',
                            categoryLabel: 'Life',
                            systemPrompt: 'ã‚ãªãŸã¯è¶…ãƒã‚¸ãƒ†ã‚£ãƒ–ãªãƒ©ã‚¤ãƒ•ã‚³ãƒ¼ãƒã§ã™ã€‚å…¥åŠ›ã•ã‚ŒãŸãƒã‚¬ãƒ†ã‚£ãƒ–ãªæ–‡ç« ã‚’ã€ã™ã¹ã¦å‰å‘ããªãƒãƒ£ãƒ³ã‚¹ã‚„æˆé•·ã®æ©Ÿä¼šã¨æ‰ãˆãŸæ–‡ç« ã«å¤‰æ›ã—ã¦ãã ã•ã„ã€‚',
                            placeholder: 'ä¾‹ï¼šå¤±æ•—ã—ã¦ã‚‚ã†æœ€æ‚ªã ã€‚ä½•ã‚‚ã—ãŸããªã„ã€‚'
                        },
                        {
                            id: 6,
                            title: 'è‹±æ–‡æ·»å‰Šï¼†è§£èª¬',
                            emoji: 'ğŸ‡ºğŸ‡¸',
                            description: 'è‹±èªã®æ–‡ç« ã‚’å…¥åŠ›ã™ã‚‹ã¨ã€ãƒã‚¤ãƒ†ã‚£ãƒ–ãƒ¬ãƒ™ãƒ«ã«ä¿®æ­£ã—ã€è§£èª¬ã‚’åŠ ãˆã¾ã™ã€‚',
                            category: 'creative',
                            categoryLabel: 'Study',
                            systemPrompt: 'ã‚ãªãŸã¯ãƒ—ãƒ­ã®è‹±èªæ•™å¸«ã§ã™ã€‚å…¥åŠ›ã•ã‚ŒãŸè‹±èªã®æ–‡ç« ã‚’ã‚ˆã‚Šè‡ªç„¶ãªãƒã‚¤ãƒ†ã‚£ãƒ–è¡¨ç¾ã«ä¿®æ­£ã—ã€ãªãœãã†ç›´ã—ãŸã®ã‹ã®è§£èª¬ã‚’æ—¥æœ¬èªã§ä»˜ã‘åŠ ãˆã¦ãã ã•ã„ã€‚',
                            placeholder: 'ä¾‹ï¼šI want to go eat lunch with friend.'
                        }
                    ]
                }
            },
            computed: {
                filteredMakers() {
                    if (this.selectedCategory === 'all') {
                        return this.makers;
                    }
                    return this.makers.filter(m => m.category === this.selectedCategory);
                }
            },
            methods: {
                selectMaker(maker) {
                    this.currentMaker = maker;
                    this.inputText = '';
                    this.outputText = '';
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                },
                goHome() {
                    this.currentMaker = null;
                },
                async convertText() {
                    if (!this.inputText) return;
                    this.isLoading = true;
                    this.outputText = '';

                    try {
                        if (!SYSTEM_API_KEY) {
                            // ãƒ‡ãƒ¢ãƒ¢ãƒ¼ãƒ‰
                            await new Promise(r => setTimeout(r, 1000));
                            this.outputText = "ã€ãƒ‡ãƒ¢ãƒ¢ãƒ¼ãƒ‰ã€‘\nAPIã‚­ãƒ¼ãŒè¨­å®šã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚\n\nã“ã‚Œã¯ãƒ€ãƒŸãƒ¼ã®å¿œç­”ã§ã™ã€‚å®Ÿéš›ã«ã¯ã€é¸æŠã—ãŸã€Œ" + this.currentMaker.title + "ã€ã®æŒ‡ç¤ºã«å¾“ã£ã¦AIãŒå¤‰æ›ã‚’è¡Œã„ã¾ã™ã€‚";
                            this.isLoading = false;
                            return;
                        }

                        // APIãƒªã‚¯ã‚¨ã‚¹ãƒˆ
                        const response = await fetch('https://llm.chutes.ai/v1/chat/completions', {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json',
                                'Authorization': `Bearer ${SYSTEM_API_KEY}`
                            },
                            body: JSON.stringify({
                                model: "openai/gpt-oss-20b",
                                messages: [
                                    { role: "system", content: this.currentMaker.systemPrompt },
                                    { role: "user", content: this.inputText }
                                ],
                                temperature: 0.7
                            })
                        });

                        const data = await response.json();
                        if (data.error) throw new Error(data.error.message);
                        this.outputText = data.choices[0].message.content;

                    } catch (error) {
                        alert("Error: " + error.message);
                    } finally {
                        this.isLoading = false;
                    }
                },
                copyToClipboard() {
                    navigator.clipboard.writeText(this.outputText).then(() => {
                        this.copied = true;
                        setTimeout(() => this.copied = false, 2000);
                    });
                }
            }
        }).mount('#app')
    </script>
</body>
</html>
